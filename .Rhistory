blogdown:::serve_site()
blogdown:::serve_site()
(4*416)/24/8
blogdown:::new_post_addin()
install.packages("Rcpp", repos = "https://rcppcore.github.io/drat")
install.packages("Rcpp", repos = "https://rcppcore.github.io/drat")
install.packages("Rcpp", repos = "https://rcppcore.github.io/drat")
install.packages("Rcpp", repos = "https://rcppcore.github.io/drat")
install.packages("Rcpp", repos = "https://rcppcore.github.io/drat")
install.packages("Rcpp", repos = "https://rcppcore.github.io/drat")
library(rstan)
install.packages("rstan")
library(rstan)
getwd()
setwd("~/Dropbox (Personal)/website/misc")
# fit model
fit <- stan(file = 'schools.stan', data = schools_dat)
# eight schools data
schools_dat <- list(J = 8,
y = c(28,  8, -3,  7, -1,  1, 18, 12),
sigma = c(15, 10, 16, 11,  9, 11, 10, 18))
# fit model
fit <- stan(file = 'schools.stan', data = schools_dat)
getwd()
fit <- stan(file = 'schools.stan', data = schools_dat)
# fit model
fit <- stan(file = 'schools.stan', data = schools_dat)
fit <- stan(file = 'schools.stan', data = schools_dat)
summary(fit)
# fit model
fit <- stan(file = 'misc/schools.stan', data = schools_dat)
setwd("~/Dropbox (Personal)/website")
# fit model
fit <- stan(file = 'misc/schools.stan', data = schools_dat)
setwd("~/Dropbox (Personal)/website/misc")
# fit model
fit <- stan(file = 'schools.stan', data = schools_dat)
library(rstan)
# eight schools data
schools_dat <- list(J = 8,
y = c(28,  8, -3,  7, -1,  1, 18, 12),
sigma = c(15, 10, 16, 11,  9, 11, 10, 18))
# fit model
fit <- stan(file = 'schools.stan', data = schools_dat)
getwd()
# fit model
fit <- stan(file = 'schools.stan', data = schools_dat)
library(rstan)
# eight schools data
schools_dat <- list(J = 8,
y = c(28,  8, -3,  7, -1,  1, 18, 12),
sigma = c(15, 10, 16, 11,  9, 11, 10, 18))
# fit model
fit <- stan(file = 'schools.stan', data = schools_dat)
getwd()
schools_dat <- list(J = 8,
y = c(28,  8, -3,  7, -1,  1, 18, 12),
sigma = c(15, 10, 16, 11,  9, 11, 10, 18))
# fit model
getwd()
fit <- stan(file = 'schools.stan', data = schools_dat)
fit <- stan(file = '../../misc/schools.stan', data = schools_dat)
```{r rstan}
library(rstan)
# eight schools data
schools_dat <- list(J = 8,
y = c(28,  8, -3,  7, -1,  1, 18, 12),
sigma = c(15, 10, 16, 11,  9, 11, 10, 18))
# fit model
getwd()
fit <- stan(file = '../../misc/schools.stan', data = schools_dat)
fit <- stan(file = '../../misc/schools.stan', data = schools_dat)
fit <- stan(file = '../../misc/schools.stan', data = schools_dat)
tools::showNonASCIIfile("schools.stan")
readLines("schools.stan")
readLines("schools.stan")
fit <- stan(file = '../../misc/schools.stan', data = schools_dat)
install.packages("tidybayes")
str(rstan::extract(fit))
# get data from model fit
# the parameter of interest is called "mu"
fit %>%
spread_draws(mu) %>%
head(10)
install.packages("tidyverse")
library(tidyverse)
# get data from model fit
# the parameter of interest is called "mu"
fit %>%
spread_draws(mu) %>%
head(10)
library(tidybayes)
# get data from model fit
# the parameter of interest is called "mu"
fit %>%
spread_draws(mu) %>%
head(10)
# get data from model fit
# the parameter of interest is called "mu"
fit %>%
spread_draws(mu) %>%
median_qi()
?stan
library(brms)
install.packages("brms")
library(brms)
schools_dat
# fit model
fit2 <- brm(y | se(sigma) ~ 1 + (1|seq(1:8)),
data = schools_dat)
# fix data for using brms
schools_dat$J <- seq(1:8)
# fit model
fit2 <- brm(y | se(sigma) ~ 1 + (1|J),
data = schools_dat)
# fit model
fit2 <- brm(y | se(sigma) ~ 1 + (1|J),
data = schools_dat,
family = gaussian())
str(fit2)
# fit model
fit2 <- brm(y | sd(sigma) ~ 1 + (1|J),
data = schools_dat,
family = gaussian())
# get data from model fit
fit2 %>%
spread_draws(mu) %>%
mmedian_qi()
summary(fit2)
# get data from model fit
fit2 %>%
spread_draws(Intercept) %>%
median_qi()
# get variable names
get_variables(fit2)
# get data from model fit
fit2 %>%
spread_draws(b_Intercept) %>%
median_qi()
# get data from model fit
fit2 %>%
spread_draws(b_Intercept) %>%
median_qi()
# fit model
fit2 <- brm(y | sdgp(sigma) ~ 1 + (1|J),
data = schools_dat,
family = gaussian())
# find out what priors we can set in our model
get_prior(y | se(sigma) ~ 1 + (1|J))
# find out what priors we can set in our model
get_prior(y | se(sigma) ~ 1 + (1|J),
data = schools_dat,
family = gaussian())
set.seed(108)
# eight schools data
schools_dat <- list(J = 8,
y = c(28,  8, -3,  7, -1,  1, 18, 12),
sigma = c(15, 10, 16, 11,  9, 11, 10, 18))
# this is the stan model we run:
# data {
#   int<lower=0> J;         // number of schools
#   real y[J];              // estimated treatment effects
#   real<lower=0> sigma[J]; // standard error of effect estimates
# }
# parameters {
#   real mu;                // population treatment effect
#   real<lower=0> tau;      // standard deviation in treatment effects
#   vector[J] eta;          // unscaled deviation from mu by school
# }
# transformed parameters {
#   vector[J] theta = mu + tau * eta;        // school treatment effects
# }
# model {
#   target += normal_lpdf(eta | 0, 1);       // prior log-density
#   target += normal_lpdf(y | theta, sigma); // log-likelihood
# }
# fit model
fit1 <- stan(file = '../../misc/schools.stan', data = schools_dat)
# get data from model fit
# the parameter of interest is called "mu" -- we know this from the construction of the model
fit1 %>%
spread_draws(mu) %>%
median_qi()
get_variables(fit1)
# get data from model fit
# the parameter of interest is called "mu" -- we know this from the construction of the model
fit1 %>%
spread_draws(mu) %>%
median_qi()
library(brms)
# fix data for using brms
schools_dat$J <- seq(1:8)
# fit model
fit2 <- brm(y | se(sigma) ~ 1 + (1|J),
data = schools_dat,
family = gaussian())
# get variable names
get_variables(fit2)
# get data from model fit
fit2 %>%
spread_draws(b_Intercept) %>%
median_qi()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
# fit model
fit2 <- brm(y | se(sigma) ~ 1 + (1|J),
data = schools_dat,
family = gaussian(),
refresh = 0)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
?median_qi
blogdown:::serve_site()
blogdown:::new_post_addin()
library(rjags)
library(rjags)
devtools::install_url("http://sourceforge.net/projects/mcmc-jags/files/rjags/3/rjags_3-2.tar.gz",
args="--configure-args='--with-jags-include=/Users/casallas/homebrew/opt/jags/include/JAGS
--with-jags-lib=/Users/casallas/homebrew/opt/jags/lib'
"
)
library(devtools)
install.packages("devtools")
devtools::install_url("http://sourceforge.net/projects/mcmc-jags/files/rjags/3/rjags_3-2.tar.gz",
args="--configure-args='--with-jags-include=/Users/casallas/homebrew/opt/jags/include/JAGS
--with-jags-lib=/Users/casallas/homebrew/opt/jags/lib'
"
)
library(rjags)
devtools::install_url("http://sourceforge.net/projects/mcmc-jags/files/rjags/4/rjags_4-10.tar.gz",
args="--configure-args='--with-jags-include=/Users/casallas/homebrew/opt/jags/include/JAGS
--with-jags-lib=/Users/casallas/homebrew/opt/jags/lib'
"
)
install.packages("rmarkdown")
install.packages("blogdown")
blogdown:::serve_site()
install.packages("rjags")
install.packages("coda")
install.packages("coda")
install.packages("coda")
install.packages("coda")
blogdown:::serve_site()
blogdown:::serve_site()
blogdown::install_hugo()
blogdown:::serve_site()
